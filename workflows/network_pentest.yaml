# Network Infrastructure Penetration Testing Workflow
# Network-level security assessment

name: network_pentest
description: Network infrastructure security testing

steps:
  - name: full_port_scan
    type: tool
    tool: nmap
    objective: "Comprehensive port scan"
    parameters:
      ports: "1-65535"
      scan_type: "-sS"
      timing: "T3"
  
  - name: service_detection
    type: tool
    tool: nmap
    objective: "Deep service and version detection"
    parameters:
      ports: "detected"  # Use ports from previous scan
      scan_type: "-sV -sC -A"
  
  - name: vulnerability_assessment
    type: tool
    tool: nuclei
    objective: "Network vulnerability scanning"
    parameters:
      severity: ["critical", "high"]
  
  - name: analyze_network
    type: analysis
    agent: analyst
    objective: "Analyze network security posture"
  
  - name: generate_network_report
    type: report
    agent: reporter
    format: markdown

settings:
  max_parallel_tools: 1  # Sequential for network scans
  require_confirmation: true
  save_intermediate: true
